<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Student-Awards 2025</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="container">
    <h1 id="mainTitle">Student-Awards</h1>

    <!-- Host Setup -->
    <section id="hostSetupSection">
      <h2>Host Setup</h2>
      <form id="hostSetupForm">
        <label for="year">Jahr:</label>
        <input type="number" id="year" name="year" value="2025" min="2000" max="2100" required />

        <label for="className">Klasse (z.B. 10B):</label>
        <input type="text" id="className" name="className" placeholder="z.B. 10B" required />

        <label for="categories">Kategorien (Kommagetrennt):</label>
        <textarea id="categories" name="categories" placeholder="Sportlichste Person, Kreativster Kopf, ... " required></textarea>

        <label for="students">Schülernamen mit Geschlecht (je Zeile: Name, m/w):</label>
        <textarea id="students" name="students" placeholder="Max Mustermann, m&#10;Lisa Beispiel, w" required></textarea>

        <label for="endDate">Abgabedatum:</label>
        <input type="date" id="endDate" name="endDate" required />

        <button type="submit">Tabelle erstellen & Link generieren</button>
      </form>

      <div id="hostLinkSection" class="hidden">
        <h3>Link zur Teilnahme</h3>
        <input type="text" id="generatedLink" readonly />
        <p>5-stelliger Zugangscode: <strong id="accessCode"></strong></p>
        <p><small>Code & Link mit Mitschülern teilen, damit sie abstimmen können.</small></p>
      </div>
    </section>

    <!-- Teilnehmer Login -->
    <section id="participantLoginSection" class="hidden">
      <h2>Teilnehmer Login</h2>
      <label for="participantLink">Hier den Link eingeben:</label>
      <input type="text" id="participantLink" placeholder="Link hier einfügen" />

      <label for="participantCode">5-stelliger Zugangscode:</label>
      <input type="text" id="participantCode" maxlength="5" placeholder="Code hier eingeben" />

      <button id="participantLoginBtn">An Abstimmung teilnehmen</button>

      <p id="loginError" class="error"></p>
    </section>

    <!-- Abstimmung -->
    <section id="votingSection" class="hidden">
      <h2 id="votingTitle"></h2>
      <p>Wähle für jede Kategorie einen Namen aus oder trage "-" ein, wenn keine Stimme vergeben wird.</p>
      <div id="votingFormContainer"></div>
      <button id="submitVotesBtn">Abgeben</button>
      <p id="voteError" class="error"></p>
    </section>

    <!-- Warteschleife (Countdown) -->
    <section id="waitingSection" class="hidden">
      <h2>Abstimmung abgeschlossen</h2>
      <p>Warte auf das Ergebnis. Es wird angezeigt am <span id="resultDateDisplay"></span></p>
      <p>Countdown: <span id="countdownTimer"></span></p>
    </section>

    <!-- Ergebnisse -->
    <section id="resultsSection" class="hidden">
      <h2>Ergebnisse</h2>
      <div id="resultsContainer"></div>
      <button id="resetBtn">Neues Jahr / Zurück zum Setup</button>
    </section>

  </div>

  <script src="main.js"></script>
</body>
</html>